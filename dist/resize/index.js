// Generated by CoffeeScript 1.9.2
var CHANGE_EVENT, EventEmitter, ResizeMonitor, assign;

EventEmitter = require('events').EventEmitter;

assign = require('object-assign');

CHANGE_EVENT = 'screen_size_change';

ResizeMonitor = assign({}, EventEmitter.prototype, {
  emitChange: function() {
    return this.emit(CHANGE_EVENT);
  },
  addChangeListener: function(callback) {
    return this.on(CHANGE_EVENT, callback);
  },
  removeChangeListener: function(callback) {
    return this.removeListener(CHANGE_EVENT, callback);
  },
  resize: function() {
    if (this.resizeTimer) {
      clearTimeout(this.resizeTimer);
    }
    return this.resizeTimer = setTimeout(ResizeMonitor.emitChange, 100);
  },
  resizeTimer: null
});

window.addEventListener("resize", ResizeMonitor.resize);

module.exports = ResizeMonitor;
